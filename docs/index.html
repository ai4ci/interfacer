<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Define and Enforce Contracts for Dataframes as Function Parameters • interfacer</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" sizes="any" href="favicon.ico">
<link rel="manifest" href="site.webmanifest">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Define and Enforce Contracts for Dataframes as Function Parameters">
<meta name="description" content="A dataframe validation framework for package builders who use dataframes as function parameters. It performs checks on column names, coerces data-types, and checks grouping to make sure user inputs conform to a specification provided by the package author. It provides a mechanism for package authors to automatically document supported dataframe inputs and selectively dispatch to functions depending on the format of a dataframe much like S3 does for classes. It also contains some developer tools to make working with and documenting dataframe specifications easier. It helps package developers to improve their documentation and simplifies parameter validation where dataframes are used as function parameters.">
<meta property="og:description" content="A dataframe validation framework for package builders who use dataframes as function parameters. It performs checks on column names, coerces data-types, and checks grouping to make sure user inputs conform to a specification provided by the package author. It provides a mechanism for package authors to automatically document supported dataframe inputs and selectively dispatch to functions depending on the format of a dataframe much like S3 does for classes. It also contains some developer tools to make working with and documenting dataframe specifications easier. It helps package developers to improve their documentation and simplifies parameter validation where dataframes are used as function parameters.">
<meta property="og:image" content="https://ai4ci.github.io/interfacer/logo.svg">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">interfacer</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/interfacer.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/consistency.html">Parameter consistency checking with interfacer</a></li>
    <li><a class="dropdown-item" href="articles/devtools.html">Tools to work with `interfacer`</a></li>
    <li><a class="dropdown-item" href="articles/dispatch.html">Multiple dispatch based on dataframes</a></li>
    <li><a class="dropdown-item" href="articles/nesting.html">Nested dataframes and `purrr` style list columns</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ai4ci/interfacer/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.svg" class="logo" alt=""><h1 id="interfacer-">interfacer 
<a class="anchor" aria-label="anchor" href="#interfacer-"></a>
</h1>
</div>
<!-- badges: start -->

<p><code>interfacer</code> is primarily aimed at R package developers. It provides a framework for specifying the structure of dataframes as parameters for user functions and checking that user supplied dataframes conform to expectations. Missing columns or incorrectly typed columns can be identified and useful error messages returned. Specifying structure is part of the function definition and can be automatically included in <code>roxygen2</code> documentation.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the released version of <code>interfacer</code> from <a href="https://CRAN.R-project.org" class="external-link">CRAN</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"interfacer"</span><span class="op">)</span></span></code></pre></div>
<p>Most likely though you will be including this in another package via a DESCRIPTION file:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="co">...</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="co">Imports: </span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="co">    tidyverse,</span></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="co">    interfacer</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a><span class="co">Suggests: </span></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a><span class="co">    knitr,</span></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a><span class="co">    rmarkdown</span></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a><span class="co">...</span></span></code></pre></div>
<p>This development versions of the package are hosted in the <a href="https://ai4ci.r-universe.dev/" class="external-link">AI4CI r-universe</a>. Installation from there is as follows:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>repos <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"ai4ci"</span> <span class="op">=</span> <span class="st">'https://ai4ci.r-universe.dev/'</span>,</span>
<span>  CRAN <span class="op">=</span> <span class="st">'https://cloud.r-project.org'</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Download and install interfacer in R</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"interfacer"</span><span class="op">)</span></span></code></pre></div>
<p>Or via a DESCRIPTION file:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="co">...</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="co">Imports: </span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a><span class="co">    tidyverse,</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a><span class="co">    interfacer</span></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a><span class="co">Remotes: github::ai4ci/interfacer</span></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a><span class="co">Suggests: </span></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a><span class="co">    knitr,</span></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a><span class="co">    rmarkdown</span></span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a><span class="co">...</span></span></code></pre></div>
<p>You can also install the development version of interfacer from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"ai4ci/interfacer"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p><code>interfacer</code> is used within a function definition in a package to constrain the input of a function to be a particular shape. The <code>@iparam</code> annotation will generate documentation which explains the expected dataframe format.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#' An example function</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @iparam mydata a test dataframe input parameter</span></span>
<span><span class="co">#' @param another an example other input parameter  </span></span>
<span><span class="co">#' @param ... not used</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @return ... something not yet defined ...</span></span>
<span><span class="co">#' @export</span></span>
<span><span class="va">example_fn</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span></span>
<span>  </span>
<span>  <span class="co"># this parameter will be a dataframe with id and test columns</span></span>
<span>  <span class="co"># id will be a unique integer, and test a logical value</span></span>
<span>  <span class="va">mydata</span> <span class="op">=</span> <span class="fu">interfacer</span><span class="fu">::</span><span class="fu"><a href="reference/iface.html">iface</a></span><span class="op">(</span></span>
<span>    id <span class="op">=</span> <span class="va">integer</span> <span class="op">+</span> <span class="va">group_unique</span> <span class="op">~</span> <span class="st">"an integer ID"</span>,</span>
<span>    test <span class="op">=</span> <span class="va">logical</span> <span class="op">+</span> <span class="fu">default</span><span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">~</span> <span class="st">"the test result"</span></span>
<span>  <span class="op">)</span>,</span>
<span>  </span>
<span>  <span class="va">another</span> <span class="op">=</span> <span class="st">"value"</span>,</span>
<span>  <span class="va">...</span></span>
<span>  </span>
<span><span class="op">)</span> <span class="op">{</span></span>
<span>  </span>
<span>  <span class="co"># this line enforces the `iface` rules for the dataframe, coercing columns</span></span>
<span>  <span class="co"># if possible and throwing helpful errors if not.</span></span>
<span>  <span class="va">mydata</span> <span class="op">=</span> <span class="fu">interfacer</span><span class="fu">::</span><span class="fu"><a href="reference/ivalidate.html">ivalidate</a></span><span class="op">(</span><span class="va">mydata</span>, <span class="va">...</span><span class="op">)</span></span>
<span>  </span>
<span>  <span class="co"># rest of function body can use `mydata` in the certain knowledge that</span></span>
<span>  <span class="co"># id is a unique integer and test is a logical value...</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>When calling this function, column name, data type and grouping structure checks are made on the input and informative errors thrown if the input is incorrectly specified.</p>
<p><code>interfacer</code> also includes tools to help developers adopt <code>iface</code> specifications by generating them from example data, and for documenting dataframes bundled in a package.</p>
</div>
<div class="section level2">
<h2 id="funding">Funding<a class="anchor" aria-label="anchor" href="#funding"></a>
</h2>
<p>The authors gratefully acknowledge the support of the UK Research and Innovation AI programme of the Engineering and Physical Sciences Research Council <a href="https://gow.epsrc.ukri.org/NGBOViewGrant.aspx?GrantRef=EP/Y028392/1" class="external-link">EPSRC grant EP/Y028392/1</a>.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=interfacer" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/ai4ci/interfacer/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/ai4ci/interfacer/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing interfacer</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Robert Challen <br><small class="roles"> Author, maintainer, copyright holder </small> <a href="https://orcid.org/0000-0002-5504-7768" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/ai4ci/interfacer/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/ai4ci/interfacer/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://doi.org/10.5281/zenodo.14794614" class="external-link"><img src="https://zenodo.org/badge/896003024.svg" alt="DOI"></a></li>
<li><a href="https://ai4ci.r-universe.dev" class="external-link"><img src="https://ai4ci.r-universe.dev/badges/interfacer" alt="interfacer status badge"></a></li>
<li><a href="https://CRAN.R-project.org/package=interfacer" class="external-link"><img src="https://www.r-pkg.org/badges/version/interfacer" alt="CRAN status"></a></li>
<li><a href="https://cran.r-project.org/package=interfacer" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/last-week/interfacer" alt="metacran downloads"></a></li>
<li><a href="https://gow.epsrc.ukri.org/NGBOViewGrant.aspx?GrantRef=EP/Y028392/1" class="external-link"><img src="https://img.shields.io/badge/EPSRC%20grant-EP%2FY028392%2F1-05acb5" alt="EPSRC badge"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Robert Challen.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
